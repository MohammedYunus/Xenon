import{r as t,h as l,g as e}from"./p-67f293f3.js";const o=class{constructor(l){t(this,l),this.day_count=[{hour_data:"-",auditor:"-",count:0}],this.updated=!1,this.updated_num=this.day_count[0].count,this.base_count=330,this.base_count_310=310,this.base_count_320=320,this.base_count_340=340}watchHandler(t,l){console.log("The new value of activated is: ",t[0].count),console.log("The old value of activated is: ",l[0].count)}async set_count(t){this.day_count=t}handleOpen(t){t.target.parentNode.parentNode.querySelector("#modal").classList.add("modal","active"),t.target.parentNode.parentNode.querySelector("#overlay").classList.add("active"),t.target.parentNode.parentNode.querySelector("#overlay").addEventListener("click",(t=>{t.target.classList.remove("active"),t.target.parentNode.querySelector("#modal").classList.remove("active")}))}handleClose(t){t.target.parentNode.parentNode.classList.remove("active"),t.target.parentNode.parentNode.parentNode.querySelector("#overlay").classList.remove("active")}get_data(){var t=this.base_data.reduce(((t,l)=>{var e=l.shift;return t.hasOwnProperty(e)||(t[e]=0),t[e]++,t}),{});const l=new Date,e=null!=navigator.languages?navigator.languages[0]:navigator.language,o=l.toLocaleDateString(e,{month:"long"});var a=this.base_data.reduce(((t,{ot:l})=>t+ +l),0),n=this.base_data.reduce(((t,{count:l})=>t+ +l),0),i=this.base_data.reduce(((t,{hc:l})=>t+l),0),r=Math.round(n-this.base_count*i);return{remain_310:Math.round(n-this.base_count_310*i),remain_320:Math.round(n-this.base_count_320*i),remain_340:Math.round(n-this.base_count_340*i),total_count:n,total_ot:a,fullMonth:o,remain:r,mt_final:Math.round(n/i),last_obj:Object.keys(this.base_data)[this.base_data.length-1],total_wh:i,Shift_count:t}}handleBasechnage(t){this.base_count=t.target.value,console.log(this.base_count)}render(){var t=this.get_data();let e,o;0!=this.day_count.length?(e=this.day_count[0].count,o=this.day_count[0].hour_data):(e=0,o="-"),console.log(e);let a=Object.keys(t.Shift_count).map((function(e){return l("span",null,e,": ",l("strong",{style:{color:"rgb(17, 154, 233)"}},t.Shift_count[e]))})),n=(t.total_count/t.total_wh/318*100).toFixed(2);console.log((t=>t>=108?5:t>=103&&t<108?4:t>=100&&t<103?3:t>=95&&t<100?2:t<95?1:void 0)(n));const i=t=>{const l=window.open(t,"_blank","noopener,noreferrer");l&&(l.opener=null)};return l("div",null,l("p",null,l("strong",null,"Daily Counts : ",l("span",{style:{color:"rgb(17, 154, 233)"}},e)," - ",o)),l("span",null),l("p",null,l("strong",null,"MTD : ",l("span",{class:"mtd_num"}," ",n," %")," @ ",this.base_data[t.last_obj].date)),l("div",{id:"modal",class:"modal"},l("div",{class:"modal-header"},l("div",{class:"title"},"MTD for Month : ",t.fullMonth," ",l("br",null),l("span",null,"Auditor : ",this.base_data[0].auditor),l("br",null),l("span",null,"Manager : ",this.base_data[0].manager)),l("button",{onClick:this.handleClose},"Ã—")),l("div",{class:"modal-body"},l("p",null),l("div",{class:"modal-table"},l("table",{class:"mtd_tab"},l("thead",null,l("tr",null,l("th",null,Object.keys(this.base_data[0])[0]),l("th",null,Object.keys(this.base_data[0])[3]),l("th",null,Object.keys(this.base_data[0])[4]),l("th",null,Object.keys(this.base_data[0])[5]),l("th",null,Object.keys(this.base_data[0])[6]),l("th",null,Object.keys(this.base_data[0])[7]))),l("tbody",null,l("tr",null,l("td",null," ",this.base_data.map((t=>l("tr",null,t[Object.keys(t)[0]])))),l("td",null,this.base_data.map((t=>l("tr",null,t[Object.keys(t)[3]])))),l("td",null,this.base_data.map((t=>l("tr",null,1*t[Object.keys(t)[4]])))),l("td",null,this.base_data.map((t=>l("tr",null,1*t[Object.keys(t)[5]])))),l("td",null,this.base_data.map((t=>l("tr",null,1*t[Object.keys(t)[6]])))),l("td",null,this.base_data.map((t=>l("tr",null,1*t[Object.keys(t)[7]])))))))),l("div",{class:"modal-footer"},a,l("div",null,"OT : ",l("strong",{style:{color:"rgb(17, 154, 233)"}},t.total_ot)," Hrs. "),l("div",{class:"modal-sub-footer"},l("table",{class:"mtd_var"},l("thead",null,l("td",{colSpan:5},"Average MTD : ",t.mt_final)),l("tbody",null,l("td",{colSpan:5},"Productivity Percentage : ",l("strong",null,n," %"))))))),l("p",{class:"footer-note"},l("strong",null,"Note :")," Rebates / Adhocs are not included in the Productivity Percentage.",l("br",null),l("i",null,"*In case of any discrepancy, please update in the portal ",l("a",{class:"linka-dummy",onClick:()=>i(this.base_L_url)},"Leaves")," and ",l("a",{class:"linka-dummy",onClick:()=>i(this.base_o_url)},"OT")))),l("div",{id:"overlay"}))}get el(){return e(this)}static get watchers(){return{day_count:["watchHandler"]}}};o.style=":host{display:block}p{margin:2px}.mtd_tab{border-collapse:collapse}.mtd_tab thead{position:initial}.mtd_var{position:fixed;border-collapse:collapse;text-align:-webkit-center;border:1px solid rgb(51, 51, 51);left:50%;width:80%;bottom:100px;transform:translate(-50%, 20%);border:1px solid black}.mtd_var td,th{border-collapse:collapse;color:black;padding:2.6px;text-align:-webkit-center;border:1px solid rgb(51, 51, 51)}.mtd_var th{width:100px}.mtd_tab td,th{color:black;padding:2px;width:30%;text-align:-webkit-center;border:1px solid rgb(51, 51, 51);overflow:auto}*,*::after,*::before{box-sizing:border-box}.modal{position:fixed;height:520px;top:50%;left:50%;transform:translate(-50%, -50%) scale(0);transition:300ms ease-in-out;border:1px solid black;border-radius:10px;z-index:99999;background-color:white;width:550px;max-width:80%}.modal.active{transform:translate(-50%, -50%) scale(1)}input{width:35px;border:0;outline:0;border-bottom:1px solid rgb(81, 193, 238)}.modal-header{padding:10px 15px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid black}.modal-footer{padding:30px 20px;display:flex;justify-content:space-evenly;align-items:center;border-top:0.1px dotted black;flex-wrap:wrap}.modal-footer>span{flex:1 1 3}.mtd_num{color:rgb(17, 154, 233)}.modal-header .title{font-size:1.25rem;font-weight:bold}.modal-header .close-button{cursor:pointer;border:none;outline:none;background:none;font-size:1.25rem;font-weight:bold}.modal-body{padding:10px 15px}#overlay{position:fixed;opacity:0;transition:200ms ease-in-out;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, .5);pointer-events:none}#overlay.active{opacity:1;pointer-events:all}.modal-table{height:200px;overflow-y:scroll;width:100%}.footer-note{position:fixed;bottom:22px;left:7%}.mtd_tab th:first-letter{text-transform:uppercase}.mtd_tab th:nth-child(3){text-transform:uppercase}.linka-dummy{cursor:pointer;color:blue;text-decoration:underline}";export{o as mtd_base}