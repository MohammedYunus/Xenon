import{r as t,c as i,h as o}from"./p-67f293f3.js";const e=class{constructor(o){t(this,o),this.inputChanged_bp=i(this,"inputChanged_bp",7),this.current_input_VA=0,this.decision="Decision",this.decision_color="",this.change_input_bp=t=>{if("QA"==t.target.id){let i=t.target.value.replace(/\s/g,"").toLowerCase();this.current_input_QA=i,("low"==i||"medium"==i||"nodata"==i&&""!=i)&&(this.decision=this.bp_base_input.data.constants[5],this.decision_color="good"),""!=i&&"high"!=i&&"low"!=i&&"medium"!=i&&"nodata"!=i&&(this.decision="Invalid Entry",this.decision_color="bad"),""==i&&(this.decision="Decision",this.decision_color=""),"high"==i&&(this.decision="Decision",this.decision_color="")}if("WC"==t.target.id){let i=t.target.validity.valid&&t.target.value;this.current_input_WC=i,this.current_input_VA=t.target.validity.valid?((this.bp_base_input.data.normal_price-i)/i/100*100).toFixed(2):"Invalid Data",this.current_input_VA<this.bp_base_input.condition?(this.decision=this.bp_base_input.data.constants[4],this.decision_color="bad"):(this.decision=this.bp_base_input.data.constants[5],this.decision_color="good"),""==i&&(this.decision="Invalid Data",this.decision_color="bad")}},this.handle_submit=()=>{if(this.decision==this.bp_base_input.data.constants[4]||this.decision==this.bp_base_input.data.constants[5]){let t=Object.assign(Object.assign({Decision:this.decision,[this.bp_base_input.inputs[0]]:this.current_input_QA},this.decision==this.bp_base_input.data.constants[4]&&{[this.bp_base_input.inputs[1]]:this.current_input_WC,[this.bp_base_input.inputs[2]]:this.current_input_VA}),this.decision==this.bp_base_input.data.constants[5]&&"high"==this.current_input_QA&&{[this.bp_base_input.inputs[1]]:this.current_input_WC,[this.bp_base_input.inputs[2]]:this.current_input_VA});this.inputChanged_bp.emit(t)}},this.onKeyPressed_bp=t=>{if("Enter"===t.key){t.preventDefault();try{let i=t.target.ownerDocument.querySelector("bp-base").shadowRoot.querySelector(".table_bp").querySelectorAll("input"),o=[];Object.values(i).forEach((t=>{""!=t.value&&o.push(t.value)})),3==o.length&&t.target.ownerDocument.querySelector("bp-base").parentNode.removeChild(t.target.ownerDocument.querySelector("bp-base"))}catch(t){console.log(t)}}}}handle_bp_Close(t){console.log("TODO : close the model for",t)}render(){return o("div",null,o("div",{id:"modal_bp",class:"modal_bp active"},o("div",{class:"modal_bp_header"},o("p",{class:"title"},this.bp_base_input.title)),o("div",{class:"modal_bp_subheader"},o("p",{class:"sub_title"},this.bp_base_input.data.constants[0],": ",this.bp_base_input.data.sku),o("p",{class:"sub_title"},this.bp_base_input.data.constants[1],": ",this.bp_base_input.data.mkpl),o("p",{class:"sub_title"},this.bp_base_input.data.constants[2],": ",this.bp_base_input.data.pv_price),o("p",{class:"sub_title"},this.bp_base_input.data.constants[3],": ",this.bp_base_input.data.normal_price)),o("div",{class:"modal_bp_body"},o("p",{class:"title"},this.bp_base_input.description)),o("div",{class:"modal_button"},o("button",{onClick:()=>(()=>{const t=window.open(this.bp_base_input.url,"_blank","noopener,noreferrer");t&&(t.opener=null)})(),class:"button-21"},this.bp_base_input.button_text)),o("div",{class:"bp_footer"},o("table",{class:"table_bp"},o("tbody",null,o("tr",null,o("th",null,this.bp_base_input.inputs[0]),o("td",null,o("input",{id:"QA","data-variable":this.bp_base_input.inputs[0],autocomplete:"off",onInput:t=>this.change_input_bp(t),onKeyDown:this.onKeyPressed_bp}))))),"high"==this.current_input_QA&&o("p",{class:"footer_values"},o("tr",null,o("th",null,this.bp_base_input.inputs[1])," ",o("td",null,o("input",{type:"text",pattern:"^-?[0-9]\\d*\\.?\\d*$",id:"WC","data-variable":this.bp_base_input.inputs[1],autocomplete:"off",onInput:t=>this.change_input_bp(t),onKeyDown:this.onKeyPressed_bp}))),o("tr",null,o("th",null,this.bp_base_input.inputs[2]),o("td",{class:"final"},this.current_input_VA)))),o("div",{class:"decision_button"},o("button",{class:`button-17 ${this.decision_color}`,onClick:this.handle_submit},this.decision))),o("div",{onClick:this.handle_bp_Close,id:"overlay",class:"active"}))}};e.style='.modal_bp{position:fixed;height:450px;top:50%;left:50%;transform:translate(-50%, -50%) scale(0);transition:300ms ease-in-out;border:1.4px solid black;border-radius:1px;z-index:999998989;background-color:white;width:500px;max-width:80%}.modal_bp.active{transform:translate(-50%, -50%) scale(0.9);overflow:auto;max-height:75vh}#overlay{position:fixed;opacity:0;transition:200ms ease-in-out;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, .5);pointer-events:none}#overlay.active{opacity:1;pointer-events:all}.modal_bp_header .title{font-size:1.4rem;font-weight:bold;text-align:center}.modal_bp_header .sub_title{font-size:1.2rem;text-align:left;padding-left:9px}.modal_bp_subheader{display:flex;flex-flow:row nowrap;padding:1px;text-align:center;gap:14px;border-bottom:1px solid black}.modal_bp_header .bp_close_button{cursor:pointer;outline:none;font-size:2.1rem;font-weight:bold;float:right}.modal_bp_body .title{font-size:1.4rem;text-align:center;padding:1px 3px}.modal_bp_header{align-items:center}.modal_button{align-items:center;text-align:center}.button-21{align-items:center;appearance:none;background-color:#3EB2FD;background-image:linear-gradient(1deg, #4F58FD, #149BF3 99%);background-size:calc(100% + 20px) calc(100% + 20px);border-radius:100px;border-width:0;box-shadow:none;box-sizing:border-box;color:#FFFFFF;cursor:pointer;display:inline-flex;font-family:CircularStd,sans-serif;font-size:1.3rem;height:auto;justify-content:center;line-height:1.2;padding:6px 20px;position:relative;text-align:center;text-decoration:none;transition:background-color .2s,background-position .2s;user-select:none;-webkit-user-select:none;touch-action:manipulation;vertical-align:top;white-space:nowrap}.button-21:active,.button-21:focus{outline:none}.button-21:hover{background-position:-20px -20px}.button-21:focus:not(:active){box-shadow:rgba(40, 170, 255, 0.25) 0 0 0 .125em}.table_bp{position:relative;top:50px;margin:0 auto;text-align:center;width:200px}.table_bp th{white-space:nowrap;padding-right:22px}.table_bp input{outline:0;border:0;font-size:16px;border-bottom:1px solid rgb(26, 144, 212);width:80%;text-align:center}.footer_values{white-space:nowrap;position:relative;top:50px;margin:0 auto;text-align:center;width:200px}.final{text-align:center;padding-top:12px}.footer_values input{outline:0;border:0;font-size:16px;border-bottom:1px solid rgb(26, 144, 212);width:60%;text-align:center;padding-top:8px}.table_footer input{outline:0;border:0;font-size:16px;border-bottom:1px solid rgb(26, 144, 212);width:100%;text-align:center}.decision_button{position:relative;top:70px;left:180px;display:block;margin:0 auto}.button-17{align-items:center;appearance:none;background-color:#fff;border-radius:24px;border-style:none;box-shadow:rgba(0, 0, 0, .2) 0 3px 5px -1px,rgba(0, 0, 0, .14) 0 6px 10px 0,rgba(0, 0, 0, .12) 0 1px 18px 0;box-sizing:border-box;color:#3c4043;cursor:pointer;display:inline-flex;fill:currentcolor;font-family:"Google Sans",Roboto,Arial,sans-serif;font-size:14px;font-weight:500;height:35px;justify-content:center;letter-spacing:.25px;line-height:normal;max-width:100%;overflow:visible;padding:2px 24px;position:fixed;text-align:center;text-transform:none;transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),opacity 15ms linear 30ms,transform 270ms cubic-bezier(0, 0, .2, 1) 0ms;user-select:none;-webkit-user-select:none;touch-action:manipulation;width:150px;will-change:transform,opacity;z-index:0;white-space:nowrap}.button-17:hover{background:#F6F9FE;color:#174ea6}.button-17:active{box-shadow:0 4px 4px 0 rgb(60 64 67 / 30%), 0 8px 12px 6px rgb(60 64 67 / 15%);outline:none}.button-17:focus{outline:none;border:2px solid #4285f4}.button-17:not(:disabled){box-shadow:rgba(60, 64, 67, .3) 0 1px 3px 0, rgba(60, 64, 67, .15) 0 4px 8px 3px}.button-17:not(:disabled):hover{box-shadow:rgba(60, 64, 67, .3) 0 2px 3px 0, rgba(60, 64, 67, .15) 0 6px 10px 4px}.button-17:not(:disabled):focus{box-shadow:rgba(60, 64, 67, .3) 0 1px 3px 0, rgba(60, 64, 67, .15) 0 4px 8px 3px}.button-17:not(:disabled):active{box-shadow:rgba(60, 64, 67, .3) 0 4px 4px 0, rgba(60, 64, 67, .15) 0 8px 12px 6px}.button-17:disabled{box-shadow:rgba(60, 64, 67, .3) 0 1px 3px 0, rgba(60, 64, 67, .15) 0 4px 8px 3px}.button-17.bad{background-color:rgb(240, 75, 75);color:white}.button-17.good{background-color:rgb(65, 161, 27);color:white}';export{e as bp_base}